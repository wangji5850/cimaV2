function for_selct(){$(".select_sp span.cur-select").on("click",function(){var a=$(this).next("div.select").is(":visible");$(".select_sp div.select").hide(),0==a&&$(this).next("div.select").show()}),$(".select_sp div.select").on("mouseleave",function(){$(this).hide()})}var arr_cn=["一","二","三","四","五","六","七","八","九","十"];!function(a,b){var c=(a.timeCount=function(a){return new c(a)},function(a){this.startTime=a.startTime,this.endTime=a.endTime,this.dom=a.dom,this.format=a.format,this.callback=a.callback,this.time=0,this.i=0,this.flag=a.flag,this.diff_time=0;var b=this;this.interval=setInterval(function(){b.init(),b.callback&&b.callback(b.dom,b.time)},1e3)});c.prototype={check:function(){var a="",b=0;if(window.XMLHttpRequest)try{a=new XMLHttpRequest}catch(c){}else if(window.ActiveXObject){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(c){}if(null==a)try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(c){}}return a.open("HEAD",window.location.href.toString(),!1),a.setRequestHeader("Content-Type","text/html"),a.send(null),diff_time=a.getResponseHeader("Date")?(new Date).getTime()-new Date(a.getResponseHeader("Date")).getTime():0,b=0,[diff_time,b]},auto:function(){var a=this;setTimeout(function(){a.init(),a.callback&&a.callback(a.dom,a.time)},1e3)},ten:function(a){return 10>a&&(a="0"+a),a},init:function(){var a=this,b=0;if(a.flag)var c=1e3;else var c=-1e3;a.i++,a.time=b=(new Date(a.endTime).getTime()-new Date(a.startTime).getTime()-a.diff_time+c*a.i)/1e3;var d,e;if(b>0){var f=a.ten(Math.floor(b/86400)),g=a.ten(Math.floor(b/3600)-24*f),h=a.ten(Math.floor(b/60)-60*f*24-60*g),i=a.ten(Math.floor(b)-24*f*60*60-60*g*60-60*h);switch(a.format){case 2:d=i,e="00";break;case 4:d=h+":"+i,e="00:00";break;default:d=a.ten(24*f+parseInt(g))+":"+h+":"+i,e="00:00:00"}a.dom.show().text(d)}else{switch(a.format){case 2:e="00";break;case 4:e="00:00";break;default:e="00:00:00"}a.dom.html(e),window.clearInterval(this.interval)}}}}(window,document),G={opt:{domain:window.location.hostname,post_url:basePath},init:function(){G.for_enter_submit(),$(".msg_box").on("click",".close",function(){$(this).parent(".msg_box").hide(),$("#mask").hide()})},get_qa_type:function(){return G.get_attr_data($(".tabs").eq(0))[0]},set_qa_type:function(a){$(".tabs").eq(0).children(".curr").attr("data-type",a)},get_qa_pn:function(){return G.get_attr_data($(".tabs").eq(0))[1]},set_qa_pn:function(a){$(".tabs").eq(0).children(".curr").attr("data-page",a)},get_qa_tn:function(){return G.get_attr_data($(".tabs").eq(0))[3]},set_qa_tn:function(a){$(".tabs").eq(0).children(".curr").attr("data-totalNumber",a)},get_qa_pc:function(){return G.get_attr_data($(".tabs").eq(0))[5]},set_qa_pc:function(a){$(".tabs").eq(0).children(".curr").attr("data-pagecount",a)},for_enter_submit:function(){$(".search_input").on("keydown",function(a){var a=a||event,b=a.keyCode||a.which||a.charCode;if(13==b){var c=$(this);switch(c.attr("id")){case"search_input":$(".btn_search").trigger("click")}}})},IsEmpty:function(a){return a?"string"==typeof a?!1:"object"==typeof a?!this.ObjNotEmpty(a):a:!0},ObjNotEmpty:function(a){if("object"!=typeof a||a instanceof Array)return a instanceof Array?0!=a.length:a;var b=!1;for(var c in a){b=!0;break}return!!b},show_empty:function(a,b){0==a.children().length&&(parseInt(a.css("width"))>580?a.html(G.templates.tpl_empty_div):a.html(G.templates.tpl_empty_minidiv),a.show())},show_data:function(a,b,c,d,e){if(G.IsEmpty(a))c.html('<div class="no_data"> <img src="'+basePath+'/images/no_data.png" alt=""/> <p class="tips">暂无相关数据</p> </div>').fadeIn(400);else{c.html(b.tmpl(a)).fadeIn(400);var f=c.parent();f.show()}},get_attr_data:function(a){console.log(a);var b=a.children(".curr");return[b.attr("data-type"),b.attr("data-page"),b.attr("data-for"),b.attr("data-totalNumber"),b.attr("data-pageCount"),b.attr("data-loadNumber")]},templates:{tpl_more:'<div class="view_more">加载更多</div>',tpl_unfold:'<a href="javascript:;">展开更多</a>',tpl_empty_div:'<div class="empty_area"></div>',tpl_empty_minidiv:'<div class="empty_area empty_area_mini"></div>'},need_login:function(a){1==a.flag&&(window.location.href=basePath+"/login")},spreadParg:function(a,b,c){null==b&&(b=0);var d="";a.each(function(a,e){var e=$(e),f=0;if(!e.hasClass("has_spread")){var g=Math.floor(parseInt(e.css("width"))/(parseInt(e.css("font-size"))+parseInt(e.css("letter-spacing"))))*b*2-18;0==c?f=7:d=$('<a class="spread_a" style="display:inline;" href="javascript:;" data-limit="'+g+'">(显示全部)</a>'),g+=f;var h=$('<div class="full_txt hide"></div>'),i=e.children("span").length>0?e.children("span").html():$.trim(e.html()),j=e.children("span").length>0?e.children("span").text():$.trim(e.text()),k=parseInt(e.css("line-height"))*b;(j.length>j.subCHStr(0,g).length||e.height()>k)&&(e.html($("<span></span>").text(j.subCHStr(0,g)+"... ")),0!=c&&e.append(h.html(i.replace(/\n/g,"<br />"))).append(d)),e.addClass("has_spread")}})},clickForSpreadParg:function(a){null==a&&(a=$(".quesList_ul")),a.on("click",".spread_a",function(){var a=$(this),b=a.parent();"(显示全部)"==a.text()?(b.children("span").hide().next(".full_txt").show(),a.text("(收起)")):(b.children("span").show().next(".full_txt").hide(),a.text("(显示全部)"))})},loadPager:function(a,b,c,d){var e=G;$("#pageNo").val(a),$("#pageCount").val(Math.ceil(b/c)),$("#totalCount").val(b);var f=a,g=Math.ceil(b/c),h=b;1>=g?$("#pager").hide():$("#pager").pager({pagenumber:f,pagecount:g,totalnumber:h,buttonClickCallback:function(a){e.set_qa_pn(a),d&&d()}}).show()},getByteCount:function(a){return a.toString().ByteCount()},phoneValid:function(a){return"string"==typeof a?/^((13[0-9])|(14[5|7|9])|(15[^4])|(17[0|1|3|5-8])|(18[0-9]))\d{8}$/.test(a):!1},emailValid:function(a){return"string"==typeof a?/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(a):!1},pwdValid:function(a){return"string"==typeof a?""!=a.replace(/\s/g,"")&&a.length>=6&&a.length<=16:!1},strongpwd_ck:function(a){for(var b=0,c=0,d=0;d<a.length;d++){var e=0,f=a.charCodeAt(d);e=f>=48&&57>=f?1:f>=65&&90>=f||f>=97&&122>=f?2:4,c|=e}for(var d=0;3>d;d++)1&c&&b++,c>>>=1;return!(2>b)},toUtf8:function(a){var b,c,d,e;for(b="",d=a.length,c=0;d>c;c++)e=a.charCodeAt(c),e>=1&&127>=e?b+=a.charAt(c):e>2047?(b+=String.fromCharCode(224|e>>12&15),b+=String.fromCharCode(128|e>>6&63),b+=String.fromCharCode(128|e>>0&63)):(b+=String.fromCharCode(192|e>>6&31),b+=String.fromCharCode(128|e>>0&63));return b},social_share:function(a,b){var c,d="http://service.weibo.com/share/share.php?",e="http://share.v.t.qq.com/index.php?c=share&a=index&",f=G.opt.post_url,g=" CGMA 全球管理会计高级经理人课程 Fulfill your career potential !我在学cima等你！http://www.xuecima.com",h=" CGMA 全球管理会计高级经理人课程 Fulfill your career potential";if("wx"==b)return void $("#code").qrcode({width:100,height:100,text:G.toUtf8(f)}).css("box-shadow","0 0 3px 0px #333");var i=window.open();"xl"==b?c=d+"url="+f+"&title="+g:"tx"==b?c=e+"url="+f+"&title="+g:"dx"==b&&(c="mailto:sample@linked-f.com?subject="+h+"&body= CGMA 全球管理会计高级经理人课程 \n访问链接："+f),setTimeout(function(){i.location=c},200)},apply_less:function(a){var b=!1;a.find('input[type="text"]').on("keydown",function(a){$(this).next(".error").hide()});var c=a.find(".name"),d=c.val();""==$.trim(c.val())&&(c.next().show(),b=!0);var e=a.find(".mobile"),f=e.val(),g=G.phoneValid(f);""!=f&&0==g?(e.next().html('<i class="ico"></i>手机号码格式不正确').show(),b=!0):""==f&&(e.next().html('<i class="ico"></i>手机号码不能为空').show(),b=!0);var h=a.find(".email"),i=h.val(),j=G.emailValid(i);""!=i&&0==j?(h.next().html('<i class="ico"></i>邮箱格式不正确').show(),b=!0):""==i&&(h.next().html('<i class="ico"></i>邮箱不能为空').show(),b=!0),1!=b&&$.post(G.opt.post_url+"/application/apply-lesson?random="+Math.random(),{name:d,phone:f,email:i},function(b){0==b.flag?(a.find('input[type="text"]').val(""),$(".m-form input").val(""),layer.msg("发送成功")):layer.msg("发送失败")})},setHeight:function(){$(".main_r").height()>$(".main_l").height()&&$(".main_l").css("min-height",$(".main_r").height())},for_p_scroll:function(){try{!function(a){a(".p_scroll").mCustomScrollbar({axis:"y",scrollButtons:{enable:!0},theme:"3d",scrollbarPosition:"inside"})}(jQuery)}catch(a){}}},G.init();var note={},private_message={},exercise_set={},exset_detail={},video={},setting={},cache_processor={},login={},register={},focus={},qa={},search_result={},look_for_pwd={};$(function(){G.for_p_scroll(),for_selct()}),G.getUserInf=function(a){$.post(basePath+"/logonInfo?random="+Math.random(),function(b){a&&a(b)})},G.getUserInf(function(a){if(0==a.flag){var b=$(".header"),c=b.find(".loginReg"),d=b.find(".logo_wrap"),e=b.find(".u_info");a.data.accountTitle&&(hasLogined=!0,c.hide(),e.removeClass("no_dis").show().find(".menu").text(a.data.accountTitle).end().find(".uPhoto").attr("src",a.data.accountPhoto),d.find(".no_login").hide().end().find(".has_login").removeClass("no_dis").show()),a.data.hasClass&&$("#just_stu").show()}}),$.myPost=function(a,b,c,d){"object"==typeof a?(a.type="post",$.ajax(a)):("function"==typeof b&&(d=d||c,c=b,b={}),$.post(a,b,function(a){return null==a||void 0==a||null==a.flag||void 0==a.flag?void console.log("undefined d or d.flag"):void(1==a.flag?window.location.href=G.opt.post_url+a.data:c(a))},void 0==d?"json":d))},String.prototype.strToCharsCH=function(){for(var a=new Array,b=0;b<this.length;b++)a[b]=[this.substr(b,1),this.isCHS(b)];return String.prototype.charsArray=a,a},String.prototype.isCHS=function(a){return this.charCodeAt(a)>255||this.charCodeAt(a)<0},String.prototype.subCHString=function(a,b){var c=0,d="";this.strToCharsCH();for(var e=0;e<this.length;e++){if(this.charsArray[e][1]?c+=2:c++,c>b)return d;c>a&&(d+=this.charsArray[e][0])}return d},String.prototype.subCHStr=function(a,b){return this.subCHString(a,a+b)},String.prototype.ByteCount=function(){var a=0;this.strToCharsCH();for(var b=0;b<this.length;b++)this.charsArray[b][1]?a+=2:a++;return a},String.prototype.startWith=function(a){return null==a||""==a||0==this.length||a.length>this.length?!1:this.substr(0,a.length)==a},String.prototype.endWith=function(a){return null==a||""==a||0==this.length||a.length>this.length?!1:this.substring(this.length-a.length)==a};